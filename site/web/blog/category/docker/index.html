
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../devops/">
      
      
        <link rel="next" href="../fsharp/">
      
      
      <link rel="icon" href="../../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>Docker - Joel Vandiver</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../styles/site.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-QL8GEFVL1T"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-QL8GEFVL1T",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-QL8GEFVL1T",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#docker" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Joel Vandiver" class="md-header__button md-logo" aria-label="Joel Vandiver" data-md-component="logo">
      
  <img src="../../../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Joel Vandiver
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Docker
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/joelvandiver/joelvandiver.com" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    joelvandiver.com
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../about/" class="md-tabs__link">
        
  
    
  
  About

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  Blog

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Joel Vandiver" class="md-nav__button md-logo" aria-label="Joel Vandiver" data-md-component="logo">
      
  <img src="../../../images/logo.png" alt="logo">

    </a>
    Joel Vandiver
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/joelvandiver/joelvandiver.com" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    joelvandiver.com
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Archive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2024/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2023/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2023
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2021/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2021
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2020/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2020
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2019/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2019
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Categories
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../azure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../bash/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bash
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../devops/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DevOps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    
      
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Docker
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#parallelized-docker-builds" class="md-nav__link">
    <span class="md-ellipsis">
      Parallelized Docker Builds
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dockerize-your-development-today" class="md-nav__link">
    <span class="md-ellipsis">
      Dockerize Your Development Today!
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-scratchpad" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Scratchpad
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-server-on-docker-with-sqlcmd" class="md-nav__link">
    <span class="md-ellipsis">
      SQL SERVER on Docker with SQLCMD
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-server-on-docker" class="md-nav__link">
    <span class="md-ellipsis">
      SQL SERVER on Docker
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../fsharp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FSharp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../frontend/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frontend
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../haskell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Haskell
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../javascript/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JavaScript
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../sql-server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SQL SERVER
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../t-sql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    T-SQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../typescript/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TypeScript
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#parallelized-docker-builds" class="md-nav__link">
    <span class="md-ellipsis">
      Parallelized Docker Builds
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dockerize-your-development-today" class="md-nav__link">
    <span class="md-ellipsis">
      Dockerize Your Development Today!
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-scratchpad" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Scratchpad
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-server-on-docker-with-sqlcmd" class="md-nav__link">
    <span class="md-ellipsis">
      SQL SERVER on Docker with SQLCMD
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-server-on-docker" class="md-nav__link">
    <span class="md-ellipsis">
      SQL SERVER on Docker
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        <h1 id="docker">Docker</h1>
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-01-09 00:00:00">January 9, 2024</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../devops/" class="md-meta__link">DevOps</a>, 
              <a href="./" class="md-meta__link">Docker</a></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="parallelized-docker-builds"><a class="toclink" href="../../2024/01/09/parallelized-docker-builds/">Parallelized Docker Builds</a></h2>
<h3 id="serial-builds"><a class="toclink" href="../../2024/01/09/parallelized-docker-builds/#serial-builds">Serial Builds</a></h3>
<p>When creating a <code>Dockerfile</code>, we may be able to split up our work into multiple stages to distribute the work in parallel.  To simulate a large build, let's setup a <code>Dockerfile</code> with 3 <code>sleep 5</code> tasks in a single-stage build.</p>
<div class="language-Dockerfile highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span>
<span class="normal"><a href="#__codelineno-27-3">3</a></span>
<span class="normal"><a href="#__codelineno-27-4">4</a></span>
<span class="normal"><a href="#__codelineno-27-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="k">FROM</span><span class="w"> </span><span class="s">debian:12.4</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="k">RUN</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;task1 Done&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/app/task1.log
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4"></a><span class="k">RUN</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;task2 Done&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/app/task2.log
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5"></a><span class="k">RUN</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;task3 Done&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/app/task3.log
</span></code></pre></div></td></tr></table></div>
<p><div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="nb">time</span><span class="w"> </span><span class="nv">DOCKER_BUILDKIT</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>docker<span class="w"> </span>build<span class="w"> </span>--tag<span class="w"> </span>serial_test<span class="w"> </span>.
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-29-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-29-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-29-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-29-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-29-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-29-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-29-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-29-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-29-10">10</a></span>
<span class="normal"><a href="#__codelineno-29-11">11</a></span>
<span class="normal"><a href="#__codelineno-29-12">12</a></span>
<span class="normal"><a href="#__codelineno-29-13">13</a></span>
<span class="normal"><a href="#__codelineno-29-14">14</a></span>
<span class="normal"><a href="#__codelineno-29-15">15</a></span>
<span class="normal"><a href="#__codelineno-29-16">16</a></span>
<span class="normal"><a href="#__codelineno-29-17">17</a></span>
<span class="normal"><a href="#__codelineno-29-18">18</a></span>
<span class="normal"><a href="#__codelineno-29-19">19</a></span>
<span class="normal"><a href="#__codelineno-29-20">20</a></span>
<span class="normal"><a href="#__codelineno-29-21">21</a></span>
<span class="normal"><a href="#__codelineno-29-22">22</a></span>
<span class="normal"><a href="#__codelineno-29-23">23</a></span>
<span class="normal"><a href="#__codelineno-29-24">24</a></span>
<span class="normal"><a href="#__codelineno-29-25">25</a></span>
<span class="normal"><a href="#__codelineno-29-26">26</a></span>
<span class="normal"><a href="#__codelineno-29-27">27</a></span>
<span class="normal"><a href="#__codelineno-29-28">28</a></span>
<span class="normal"><a href="#__codelineno-29-29">29</a></span>
<span class="normal"><a href="#__codelineno-29-30">30</a></span>
<span class="normal"><a href="#__codelineno-29-31">31</a></span>
<span class="normal"><a href="#__codelineno-29-32">32</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1"></a>[+] Building 23.2s (12/12) FINISHED                                                                                       docker:default
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2"></a> =&gt; [internal] load build definition from Dockerfile                                                                      0.0s
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3"></a> =&gt; =&gt; transferring dockerfile: 288B                                                                                      0.0s
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4"></a> =&gt; [internal] load .dockerignore                                                                                         0.0s
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5"></a> =&gt; =&gt; transferring context: 2B                                                                                           0.0s
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6"></a> =&gt; [internal] load metadata for docker.io/library/debian:12.4                                                            1.0s
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7"></a> =&gt; [1/8] FROM docker.io/library/debian:12.4@sha256:bac353db4cc04bc672b14029964e686cd7bad56fe34b51f432c1a1304b9928da      4.1s
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8"></a> =&gt; =&gt; resolve docker.io/library/debian:12.4@sha256:bac353db4cc04bc672b14029964e686cd7bad56fe34b51f432c1a1304b9928da      0.0s
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9"></a> =&gt; =&gt; sha256:bac353db4cc04bc672b14029964e686cd7bad56fe34b51f432c1a1304b9928da 1.85kB / 1.85kB                            0.0s
</span><span id="__span-29-10"><a id="__codelineno-29-10" name="__codelineno-29-10"></a> =&gt; =&gt; sha256:0dc902c61cb495db4630a6dc2fa14cd45bd9f8515f27fbb12e3d73a119d30bf1 529B / 529B                                0.0s
</span><span id="__span-29-11"><a id="__codelineno-29-11" name="__codelineno-29-11"></a> =&gt; =&gt; sha256:2a033a8c63712da54b5a516f5d69d41606cfb5c4ce9aa1690ee55fc4f9babb92 1.46kB / 1.46kB                            0.0s
</span><span id="__span-29-12"><a id="__codelineno-29-12" name="__codelineno-29-12"></a> =&gt; =&gt; sha256:bc0734b949dcdcabe5bfdf0c8b9f44491e0fce04cb10c9c6e76282b9f6abdf01 49.56MB / 49.56MB                          2.2s
</span><span id="__span-29-13"><a id="__codelineno-29-13" name="__codelineno-29-13"></a> =&gt; =&gt; extracting sha256:bc0734b949dcdcabe5bfdf0c8b9f44491e0fce04cb10c9c6e76282b9f6abdf01                                 1.7s
</span><span id="__span-29-14"><a id="__codelineno-29-14" name="__codelineno-29-14"></a> =&gt; [2/8] WORKDIR /app                                                                                                    0.2s
</span><span id="__span-29-15"><a id="__codelineno-29-15" name="__codelineno-29-15"></a> =&gt; [3/8] RUN sleep 5 &amp;&amp; echo &quot;task1 Done&quot; &gt; /app/task1.log                                                               5.3s
</span><span id="__span-29-16"><a id="__codelineno-29-16" name="__codelineno-29-16"></a> =&gt; [4/8] RUN sleep 5 &amp;&amp; echo &quot;task2 Done&quot; &gt; /app/task2.log                                                               5.4s
</span><span id="__span-29-17"><a id="__codelineno-29-17" name="__codelineno-29-17"></a> =&gt; [5/8] RUN sleep 5 &amp;&amp; echo &quot;task3 Done&quot; &gt; /app/task3.log                                                               5.5s
</span><span id="__span-29-18"><a id="__codelineno-29-18" name="__codelineno-29-18"></a> =&gt; [6/8] RUN cat /app/task1.log                                                                                          0.4s
</span><span id="__span-29-19"><a id="__codelineno-29-19" name="__codelineno-29-19"></a> =&gt; [7/8] RUN cat /app/task2.log                                                                                          0.6s
</span><span id="__span-29-20"><a id="__codelineno-29-20" name="__codelineno-29-20"></a> =&gt; [8/8] RUN cat /app/task3.log                                                                                          0.5s
</span><span id="__span-29-21"><a id="__codelineno-29-21" name="__codelineno-29-21"></a> =&gt; exporting to image                                                                                                    0.2s
</span><span id="__span-29-22"><a id="__codelineno-29-22" name="__codelineno-29-22"></a> =&gt; =&gt; exporting layers                                                                                                   0.1s
</span><span id="__span-29-23"><a id="__codelineno-29-23" name="__codelineno-29-23"></a> =&gt; =&gt; writing image sha256:5a4ba49cbde2f6178268ca9d428fc6e0a831cdbaecb1a13a92730d473d21990a                              0.0s
</span><span id="__span-29-24"><a id="__codelineno-29-24" name="__codelineno-29-24"></a> =&gt; =&gt; naming to docker.io/library/serial_test                                                                            0.0s
</span><span id="__span-29-25"><a id="__codelineno-29-25" name="__codelineno-29-25"></a>
</span><span id="__span-29-26"><a id="__codelineno-29-26" name="__codelineno-29-26"></a>What&#39;s Next?
</span><span id="__span-29-27"><a id="__codelineno-29-27" name="__codelineno-29-27"></a>  1. Sign in to your Docker account → docker login
</span><span id="__span-29-28"><a id="__codelineno-29-28" name="__codelineno-29-28"></a>  2. View a summary of image vulnerabilities and recommendations → docker scout quickview
</span><span id="__span-29-29"><a id="__codelineno-29-29" name="__codelineno-29-29"></a>
</span><span id="__span-29-30"><a id="__codelineno-29-30" name="__codelineno-29-30"></a>real    0m23.594s
</span><span id="__span-29-31"><a id="__codelineno-29-31" name="__codelineno-29-31"></a>user    0m0.133s
</span><span id="__span-29-32"><a id="__codelineno-29-32" name="__codelineno-29-32"></a>sys     0m0.141s
</span></code></pre></div></td></tr></table></div></p>
<blockquote>
<p>The serial build ran in 23.6 secs.</p>
</blockquote>
<h3 id="parallel-builds"><a class="toclink" href="../../2024/01/09/parallelized-docker-builds/#parallel-builds">Parallel Builds</a></h3>
<p>Did you realize that Docker supports building stages in parallel?  This can greatly reduce build times depending on the service being built.  For example, let's take the following Dockerfile:</p>
<div class="language-Dockerfile highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-30-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-30-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-30-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-30-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-30-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-30-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-30-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-30-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-30-10">10</a></span>
<span class="normal"><a href="#__codelineno-30-11">11</a></span>
<span class="normal"><a href="#__codelineno-30-12">12</a></span>
<span class="normal"><a href="#__codelineno-30-13">13</a></span>
<span class="normal"><a href="#__codelineno-30-14">14</a></span>
<span class="normal"><a href="#__codelineno-30-15">15</a></span>
<span class="normal"><a href="#__codelineno-30-16">16</a></span>
<span class="normal"><a href="#__codelineno-30-17">17</a></span>
<span class="normal"><a href="#__codelineno-30-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="k">FROM</span><span class="w"> </span><span class="s">debian:12.4</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s">task1</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2"></a><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3"></a><span class="k">RUN</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;task1 Done&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/app/result.log
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4"></a>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5"></a><span class="k">FROM</span><span class="w"> </span><span class="s">debian:12.4</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s">task2</span>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6"></a><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span>
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7"></a><span class="k">RUN</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;task2 Done&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/app/result.log
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8"></a>
</span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9"></a><span class="k">FROM</span><span class="w"> </span><span class="s">debian:12.4</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s">task3</span>
</span><span id="__span-30-10"><a id="__codelineno-30-10" name="__codelineno-30-10"></a><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span>
</span><span id="__span-30-11"><a id="__codelineno-30-11" name="__codelineno-30-11"></a><span class="k">RUN</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;task3 Done&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/app/result.log
</span><span id="__span-30-12"><a id="__codelineno-30-12" name="__codelineno-30-12"></a>
</span><span id="__span-30-13"><a id="__codelineno-30-13" name="__codelineno-30-13"></a><span class="k">FROM</span><span class="w"> </span><span class="s">debian:12.4</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s">Final</span>
</span><span id="__span-30-14"><a id="__codelineno-30-14" name="__codelineno-30-14"></a>
</span><span id="__span-30-15"><a id="__codelineno-30-15" name="__codelineno-30-15"></a><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span>
</span><span id="__span-30-16"><a id="__codelineno-30-16" name="__codelineno-30-16"></a><span class="k">COPY</span><span class="w"> </span>--from<span class="o">=</span>task1<span class="w"> </span>/app/result.log<span class="w"> </span>/app/task1.log
</span><span id="__span-30-17"><a id="__codelineno-30-17" name="__codelineno-30-17"></a><span class="k">COPY</span><span class="w"> </span>--from<span class="o">=</span>task2<span class="w"> </span>/app/result.log<span class="w"> </span>/app/task2.log
</span><span id="__span-30-18"><a id="__codelineno-30-18" name="__codelineno-30-18"></a><span class="k">COPY</span><span class="w"> </span>--from<span class="o">=</span>task3<span class="w"> </span>/app/result.log<span class="w"> </span>/app/task3.log
</span></code></pre></div></td></tr></table></div>
<p><div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="nb">time</span><span class="w"> </span><span class="nv">DOCKER_BUILDKIT</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>docker<span class="w"> </span>build<span class="w"> </span>--tag<span class="w"> </span>parallel_test<span class="w"> </span>.
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-32-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-32-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-32-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-32-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-32-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-32-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-32-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-32-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-32-10">10</a></span>
<span class="normal"><a href="#__codelineno-32-11">11</a></span>
<span class="normal"><a href="#__codelineno-32-12">12</a></span>
<span class="normal"><a href="#__codelineno-32-13">13</a></span>
<span class="normal"><a href="#__codelineno-32-14">14</a></span>
<span class="normal"><a href="#__codelineno-32-15">15</a></span>
<span class="normal"><a href="#__codelineno-32-16">16</a></span>
<span class="normal"><a href="#__codelineno-32-17">17</a></span>
<span class="normal"><a href="#__codelineno-32-18">18</a></span>
<span class="normal"><a href="#__codelineno-32-19">19</a></span>
<span class="normal"><a href="#__codelineno-32-20">20</a></span>
<span class="normal"><a href="#__codelineno-32-21">21</a></span>
<span class="normal"><a href="#__codelineno-32-22">22</a></span>
<span class="normal"><a href="#__codelineno-32-23">23</a></span>
<span class="normal"><a href="#__codelineno-32-24">24</a></span>
<span class="normal"><a href="#__codelineno-32-25">25</a></span>
<span class="normal"><a href="#__codelineno-32-26">26</a></span>
<span class="normal"><a href="#__codelineno-32-27">27</a></span>
<span class="normal"><a href="#__codelineno-32-28">28</a></span>
<span class="normal"><a href="#__codelineno-32-29">29</a></span>
<span class="normal"><a href="#__codelineno-32-30">30</a></span>
<span class="normal"><a href="#__codelineno-32-31">31</a></span>
<span class="normal"><a href="#__codelineno-32-32">32</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1"></a>[+] Building 11.3s (12/12) FINISHED                                                                                           docker:default
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2"></a> =&gt; [internal] load build definition from Dockerfile                                                                          0.0s
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3"></a> =&gt; =&gt; transferring dockerfile: 510B                                                                                          0.0s
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4"></a> =&gt; [internal] load .dockerignore                                                                                             0.0s
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5"></a> =&gt; =&gt; transferring context: 2B                                                                                               0.0s
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6"></a> =&gt; [internal] load metadata for docker.io/library/debian:12.4                                                                1.0s
</span><span id="__span-32-7"><a id="__codelineno-32-7" name="__codelineno-32-7"></a> =&gt; [stage3 1/3] FROM docker.io/library/debian:12.4@sha256:bac353db4cc04bc672b14029964e686cd7bad56fe34b51f432c1a1304b9928da   4.0s
</span><span id="__span-32-8"><a id="__codelineno-32-8" name="__codelineno-32-8"></a> =&gt; =&gt; resolve docker.io/library/debian:12.4@sha256:bac353db4cc04bc672b14029964e686cd7bad56fe34b51f432c1a1304b9928da          0.0s
</span><span id="__span-32-9"><a id="__codelineno-32-9" name="__codelineno-32-9"></a> =&gt; =&gt; sha256:bac353db4cc04bc672b14029964e686cd7bad56fe34b51f432c1a1304b9928da 1.85kB / 1.85kB                                0.0s
</span><span id="__span-32-10"><a id="__codelineno-32-10" name="__codelineno-32-10"></a> =&gt; =&gt; sha256:0dc902c61cb495db4630a6dc2fa14cd45bd9f8515f27fbb12e3d73a119d30bf1 529B / 529B                                    0.0s
</span><span id="__span-32-11"><a id="__codelineno-32-11" name="__codelineno-32-11"></a> =&gt; =&gt; sha256:2a033a8c63712da54b5a516f5d69d41606cfb5c4ce9aa1690ee55fc4f9babb92 1.46kB / 1.46kB                                0.0s
</span><span id="__span-32-12"><a id="__codelineno-32-12" name="__codelineno-32-12"></a> =&gt; =&gt; sha256:bc0734b949dcdcabe5bfdf0c8b9f44491e0fce04cb10c9c6e76282b9f6abdf01 49.56MB / 49.56MB                              2.1s
</span><span id="__span-32-13"><a id="__codelineno-32-13" name="__codelineno-32-13"></a> =&gt; =&gt; extracting sha256:bc0734b949dcdcabe5bfdf0c8b9f44491e0fce04cb10c9c6e76282b9f6abdf01                                     1.7s
</span><span id="__span-32-14"><a id="__codelineno-32-14" name="__codelineno-32-14"></a> =&gt; [stage3 2/3] WORKDIR /app                                                                                                 0.1s
</span><span id="__span-32-15"><a id="__codelineno-32-15" name="__codelineno-32-15"></a> =&gt; [stage2 3/3] RUN sleep 5 &amp;&amp; echo &quot;stage2 Done&quot; &gt; /app/result.log                                                          5.4s
</span><span id="__span-32-16"><a id="__codelineno-32-16" name="__codelineno-32-16"></a> =&gt; [stage1 3/3] RUN sleep 5 &amp;&amp; echo &quot;stage1 Done&quot; &gt; /app/result.log                                                          5.7s
</span><span id="__span-32-17"><a id="__codelineno-32-17" name="__codelineno-32-17"></a> =&gt; [stage3 3/3] RUN sleep 5 &amp;&amp; echo &quot;stage3 Done&quot; &gt; /app/result.log                                                          5.7s
</span><span id="__span-32-18"><a id="__codelineno-32-18" name="__codelineno-32-18"></a> =&gt; [final 3/5] COPY --from=stage1 /app/result.log /app/stage1.log                                                            0.0s
</span><span id="__span-32-19"><a id="__codelineno-32-19" name="__codelineno-32-19"></a> =&gt; [final 4/5] COPY --from=stage2 /app/result.log /app/stage2.log                                                            0.0s
</span><span id="__span-32-20"><a id="__codelineno-32-20" name="__codelineno-32-20"></a> =&gt; [final 5/5] COPY --from=stage3 /app/result.log /app/stage3.log                                                            0.0s
</span><span id="__span-32-21"><a id="__codelineno-32-21" name="__codelineno-32-21"></a> =&gt; exporting to image                                                                                                        0.1s
</span><span id="__span-32-22"><a id="__codelineno-32-22" name="__codelineno-32-22"></a> =&gt; =&gt; exporting layers                                                                                                       0.1s
</span><span id="__span-32-23"><a id="__codelineno-32-23" name="__codelineno-32-23"></a> =&gt; =&gt; writing image sha256:9a00f8d862f8f76d2fdebcafa1128c4be35aea5088804c431dc44101907ccb8e                                  0.0s
</span><span id="__span-32-24"><a id="__codelineno-32-24" name="__codelineno-32-24"></a> =&gt; =&gt; naming to docker.io/library/parallel_test                                                                              0.0s
</span><span id="__span-32-25"><a id="__codelineno-32-25" name="__codelineno-32-25"></a>
</span><span id="__span-32-26"><a id="__codelineno-32-26" name="__codelineno-32-26"></a>What&#39;s Next?
</span><span id="__span-32-27"><a id="__codelineno-32-27" name="__codelineno-32-27"></a>  1. Sign in to your Docker account → docker login
</span><span id="__span-32-28"><a id="__codelineno-32-28" name="__codelineno-32-28"></a>  2. View a summary of image vulnerabilities and recommendations → docker scout quickview
</span><span id="__span-32-29"><a id="__codelineno-32-29" name="__codelineno-32-29"></a>
</span><span id="__span-32-30"><a id="__codelineno-32-30" name="__codelineno-32-30"></a>real    0m11.607s
</span><span id="__span-32-31"><a id="__codelineno-32-31" name="__codelineno-32-31"></a>user    0m0.060s
</span><span id="__span-32-32"><a id="__codelineno-32-32" name="__codelineno-32-32"></a>sys     0m0.176s
</span></code></pre></div></td></tr></table></div></p>
<blockquote>
<p>The parallel build ran in 11.6 secs.</p>
</blockquote>
<p>Very cool!</p>
<h3 id="notes"><a class="toclink" href="../../2024/01/09/parallelized-docker-builds/#notes">Notes</a></h3>
<p>I was surprised to find this <code>Dockerfile</code> does not run the first and second stages if they're not used in the final stage:</p>
<div class="language-Dockerfile highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-33-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-33-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-33-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-33-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-33-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-33-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-33-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-33-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-33-10">10</a></span>
<span class="normal"><a href="#__codelineno-33-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="k">FROM</span><span class="w"> </span><span class="s">debian:12.4</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s">task1</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="k">RUN</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;task1 Done&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/app/result.log
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4"></a>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5"></a><span class="k">FROM</span><span class="w"> </span><span class="s">debian:12.4</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s">task2</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6"></a><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span>
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7"></a><span class="k">RUN</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;task2 Done&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/app/result.log
</span><span id="__span-33-8"><a id="__codelineno-33-8" name="__codelineno-33-8"></a>
</span><span id="__span-33-9"><a id="__codelineno-33-9" name="__codelineno-33-9"></a><span class="k">FROM</span><span class="w"> </span><span class="s">debian:12.4</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s">task3</span>
</span><span id="__span-33-10"><a id="__codelineno-33-10" name="__codelineno-33-10"></a><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span>
</span><span id="__span-33-11"><a id="__codelineno-33-11" name="__codelineno-33-11"></a><span class="k">RUN</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;task3 Done&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/app/result.log
</span></code></pre></div></td></tr></table></div>
<p>Docker detects that the <code>task1</code> and <code>task2</code> stages are not used in the <code>task3</code> stage (through a <code>COPY --from=...</code>), so it skips them!</p>
<p><div class="language-bash highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1"></a><span class="nb">time</span><span class="w"> </span><span class="nv">DOCKER_BUILDKIT</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>docker<span class="w"> </span>build<span class="w"> </span>--tag<span class="w"> </span>skip_test<span class="w"> </span>.
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-35-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-35-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-35-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-35-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-35-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-35-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-35-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-35-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-35-10">10</a></span>
<span class="normal"><a href="#__codelineno-35-11">11</a></span>
<span class="normal"><a href="#__codelineno-35-12">12</a></span>
<span class="normal"><a href="#__codelineno-35-13">13</a></span>
<span class="normal"><a href="#__codelineno-35-14">14</a></span>
<span class="normal"><a href="#__codelineno-35-15">15</a></span>
<span class="normal"><a href="#__codelineno-35-16">16</a></span>
<span class="normal"><a href="#__codelineno-35-17">17</a></span>
<span class="normal"><a href="#__codelineno-35-18">18</a></span>
<span class="normal"><a href="#__codelineno-35-19">19</a></span>
<span class="normal"><a href="#__codelineno-35-20">20</a></span>
<span class="normal"><a href="#__codelineno-35-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1"></a>[+] Building 6.2s (7/7) FINISHED                                                                                             docker:default
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2"></a> =&gt; [internal] load .dockerignore                                                                                            0.0s
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3"></a> =&gt; =&gt; transferring context: 2B                                                                                              0.0s
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4"></a> =&gt; [internal] load build definition from Dockerfile                                                                         0.0s
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5"></a> =&gt; =&gt; transferring dockerfile: 310B                                                                                         0.0s
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6"></a> =&gt; [internal] load metadata for docker.io/library/debian:12.4                                                               0.8s
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7"></a> =&gt; [task3 1/3] FROM docker.io/library/debian:12.4@sha256:bac353db4cc04bc672b14029964e686cd7bad56fe34b51f432c1a1304b9928da   0.0s
</span><span id="__span-35-8"><a id="__codelineno-35-8" name="__codelineno-35-8"></a> =&gt; CACHED [task3 2/3] WORKDIR /app                                                                                          0.0s
</span><span id="__span-35-9"><a id="__codelineno-35-9" name="__codelineno-35-9"></a> =&gt; [task3 3/3] RUN sleep 5 &amp;&amp; echo &quot;task3 Done&quot; &gt; /app/result.log                                                           5.3s
</span><span id="__span-35-10"><a id="__codelineno-35-10" name="__codelineno-35-10"></a> =&gt; exporting to image                                                                                                       0.0s
</span><span id="__span-35-11"><a id="__codelineno-35-11" name="__codelineno-35-11"></a> =&gt; =&gt; exporting layers                                                                                                      0.0s
</span><span id="__span-35-12"><a id="__codelineno-35-12" name="__codelineno-35-12"></a> =&gt; =&gt; writing image sha256:965ebe3258d6e1fb724b1130164dfdaae7ad2fef048f3fd21afcb8b9f9178f73                                 0.0s
</span><span id="__span-35-13"><a id="__codelineno-35-13" name="__codelineno-35-13"></a> =&gt; =&gt; naming to docker.io/library/skip_test                                                                                 0.0s
</span><span id="__span-35-14"><a id="__codelineno-35-14" name="__codelineno-35-14"></a>
</span><span id="__span-35-15"><a id="__codelineno-35-15" name="__codelineno-35-15"></a>What&#39;s Next?
</span><span id="__span-35-16"><a id="__codelineno-35-16" name="__codelineno-35-16"></a>  1. Sign in to your Docker account → docker login
</span><span id="__span-35-17"><a id="__codelineno-35-17" name="__codelineno-35-17"></a>  2. View a summary of image vulnerabilities and recommendations → docker scout quickview
</span><span id="__span-35-18"><a id="__codelineno-35-18" name="__codelineno-35-18"></a>
</span><span id="__span-35-19"><a id="__codelineno-35-19" name="__codelineno-35-19"></a>real    0m6.584s
</span><span id="__span-35-20"><a id="__codelineno-35-20" name="__codelineno-35-20"></a>user    0m0.066s
</span><span id="__span-35-21"><a id="__codelineno-35-21" name="__codelineno-35-21"></a>sys     0m0.162s
</span></code></pre></div></td></tr></table></div></p>
<blockquote>
<p>Note the missing <code>task1</code> and <code>task2</code> stages in the output above.</p>
</blockquote>
<h3 id="references"><a class="toclink" href="../../2024/01/09/parallelized-docker-builds/#references">References</a></h3>
<ul>
<li><a href="https://docs.docker.com/build/guide/multi-stage/#parallelism">Multi-stage | Docker Docs</a></li>
</ul>
    <nav class="md-post__action">
      <a href="../../2024/01/09/parallelized-docker-builds/">
        Continue reading
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2023-06-15 00:00:00">June 15, 2023</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Docker</a>, 
              <a href="../devops/" class="md-meta__link">DevOps</a></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="dockerize-your-development-today"><a class="toclink" href="../../2023/06/15/dockerize-your-development-today/">Dockerize Your Development Today!</a></h2>
<h3 id="no-more-it-works-on-my-machine-excuses"><a class="toclink" href="../../2023/06/15/dockerize-your-development-today/#no-more-it-works-on-my-machine-excuses">No More "It Works on My Machine" Excuses</a></h3>
<p>We've all been there. Code that works on my machine doesn't work on yours and vice versa. But, why?  There are like a number of issues to troubleshoot.  Some of the most common are:</p>
<ol>
<li>Different versions of the programming language, sdk, and runtime.</li>
<li>Different package versions.</li>
<li>Different operating systems.</li>
<li>Different software toolchains.</li>
<li>...</li>
</ol>
<p>The list goes on and on.</p>
<h3 id="docker-to-the-rescue"><a class="toclink" href="../../2023/06/15/dockerize-your-development-today/#docker-to-the-rescue">Docker to the Rescue</a></h3>
<p>Docker is great for containerizing your services in production.  But, we can do better.  Why not use it to containerize your development environment?  This way, you can be sure that your development environment matches your production environment exactly.  No more surprises, no more excuses.</p>
<p>You can simply build a new image when anything on the list above changes and push it to shared container registry for the team.  Then, you can check in the image tag to version control and everyone can spin up an identical environment in minutes.  No more wasted time setting up dependencies and configuring tools.</p>
<p>Check out vscode's <a href="https://code.visualstudio.com/docs/remote/containers">dev containers</a> for more information.</p>
<p>Once I started using docker for development, I never looked back.  It's a game changer.</p>
    <nav class="md-post__action">
      <a href="../../2023/06/15/dockerize-your-development-today/">
        Continue reading
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2021-12-07 00:00:00">December 7, 2021</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Docker</a></li>
        
        
          
          <li class="md-meta__item">
            
              2 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="docker-scratchpad"><a class="toclink" href="../../2021/12/07/docker-scratchpad/">Docker Scratchpad</a></h2>
<p>Docker is great for production use, but have you considered using it to quickly take out tools for a spin?  I find I'm reaching for the following command multiple times throughout the day.</p>
<blockquote>
<p><code>docker run -it --rm --entrypoint /bin/sh $TOOL</code></p>
</blockquote>
<p><code>$TOOL</code> can be whatever linux based tool I'm interested in trying out. Let's take out <code>alpine</code> linux for a spin.</p>
<blockquote>
<p><code>docker run -it --rm --entrypoint /bin/sh alpine</code></p>
</blockquote>
<p><img alt="" src="../../assets/2021-12-07-17-30-23.png" /></p>
<p>Or, I might spin up a <code>python</code> instance to take a look around Python.</p>
<blockquote>
<p><code>docker run -it --rm --entrypoint /bin/sh python</code></p>
</blockquote>
<p><img alt="" src="../../assets/2021-12-07-17-29-15.png" /></p>
<p>It's also great for other languages you might want to take out for a spin, such as:</p>
<blockquote>
<p><code>docker run -it --rm --entrypoint /bin/sh haskell</code></p>
</blockquote>
<p><img alt="" src="../../assets/2021-12-07-17-29-53.png" /></p>
<p>Pretty cool, eh?</p>
    <nav class="md-post__action">
      <a href="../../2021/12/07/docker-scratchpad/">
        Continue reading
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-08-02 00:00:00">August 2, 2020</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Docker</a>, 
              <a href="../sql-server/" class="md-meta__link">SQL SERVER</a></li>
        
        
          
          <li class="md-meta__item">
            
              2 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="sql-server-on-docker-with-sqlcmd"><a class="toclink" href="../../2020/08/02/sql-server-on-docker-with-sqlcmd/">SQL SERVER on Docker with SQLCMD</a></h2>
<p>Let's revisit a previous <a href="../../2019/12/07/docker-sql-server/">post</a> about using Docker to create a SQL SERVER image.  Previously, I connected to the DB with SQL SERVER Management Studio (SSMS), but now, I'd like to use <code>sqlcmd</code> to avoid running other tools.</p>
<p>Let's get the latest mssql image for Linux this time from https://hub.docker.com/_/microsoft-mssql-server.</p>
<div class="language-powershell highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span>
<span class="normal"><a href="#__codelineno-3-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="c"># Pull the Image</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="n">docker</span> <span class="n">pull</span> <span class="n">mcr</span><span class="p">.</span><span class="n">microsoft</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">mssql</span><span class="p">/</span><span class="n">server</span><span class="p">:</span><span class="n">2019-CU5-ubuntu</span><span class="p">-</span><span class="n">16</span><span class="p">.</span><span class="n">04</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3"></a>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="c"># Run the Container</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="n">docker</span> <span class="n">run</span> <span class="n">-e</span> <span class="s1">&#39;ACCEPT_EULA=Y&#39;</span> <span class="n">-e</span> <span class="s1">&#39;SA_PASSWORD=...&#39;</span> <span class="n">-p</span> <span class="n">1433</span><span class="p">:</span><span class="n">1433</span> <span class="p">-</span><span class="n">-name</span> <span class="n">sql1</span> <span class="n">-d</span> <span class="n">mcr</span><span class="p">.</span><span class="n">microsoft</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">mssql</span><span class="p">/</span><span class="n">server</span><span class="p">:</span><span class="n">2019-CU5-ubuntu</span><span class="p">-</span><span class="n">16</span><span class="p">.</span><span class="n">04</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6"></a>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="c"># Start an Interactive Shell</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="n">docker</span> <span class="n">exec</span> <span class="n">-it</span> <span class="n">sql1</span> <span class="p">/</span><span class="n">bin</span><span class="p">/</span><span class="n">bash</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9"></a>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="c"># Test SQLCMD</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="n">opt</span><span class="p">/</span><span class="n">mssql-tools</span><span class="p">/</span><span class="n">bin</span><span class="p">/</span><span class="n">sqlcmd</span> <span class="p">-?</span>
</span></code></pre></div></td></tr></table></div>
<blockquote>
<p>Output</p>
</blockquote>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span>
<span class="normal"><a href="#__codelineno-4-13">13</a></span>
<span class="normal"><a href="#__codelineno-4-14">14</a></span>
<span class="normal"><a href="#__codelineno-4-15">15</a></span>
<span class="normal"><a href="#__codelineno-4-16">16</a></span>
<span class="normal"><a href="#__codelineno-4-17">17</a></span>
<span class="normal"><a href="#__codelineno-4-18">18</a></span>
<span class="normal"><a href="#__codelineno-4-19">19</a></span>
<span class="normal"><a href="#__codelineno-4-20">20</a></span>
<span class="normal"><a href="#__codelineno-4-21">21</a></span>
<span class="normal"><a href="#__codelineno-4-22">22</a></span>
<span class="normal"><a href="#__codelineno-4-23">23</a></span>
<span class="normal"><a href="#__codelineno-4-24">24</a></span>
<span class="normal"><a href="#__codelineno-4-25">25</a></span>
<span class="normal"><a href="#__codelineno-4-26">26</a></span>
<span class="normal"><a href="#__codelineno-4-27">27</a></span>
<span class="normal"><a href="#__codelineno-4-28">28</a></span>
<span class="normal"><a href="#__codelineno-4-29">29</a></span>
<span class="normal"><a href="#__codelineno-4-30">30</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1"></a>Microsoft (R) SQL Server Command Line Tool
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2"></a>Version 17.5.0002.1 Linux
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3"></a>Copyright (C) 2017 Microsoft Corporation. All rights reserved.
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4"></a>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5"></a>usage: sqlcmd            [-U login id]          [-P password]
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6"></a>  [-S server or Dsn if -D is provided]
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7"></a>  [-H hostname]          [-E trusted connection]
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8"></a>  [-N Encrypt Connection][-C Trust Server Certificate]
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9"></a>  [-d use database name] [-l login timeout]     [-t query timeout]
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10"></a>  [-h headers]           [-s colseparator]      [-w screen width]
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11"></a>  [-a packetsize]        [-e echo input]        [-I Enable Quoted Identifiers]
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12"></a>  [-c cmdend]
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13"></a>  [-q &quot;cmdline query&quot;]   [-Q &quot;cmdline query&quot; and exit]
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14"></a>  [-m errorlevel]        [-V severitylevel]     [-W remove trailing spaces]
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15"></a>  [-u unicode output]    [-r[0|1] msgs to stderr]
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16"></a>  [-i inputfile]         [-o outputfile]
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17"></a>  [-k[1|2] remove[replace] control characters]
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18"></a>  [-y variable length type display width]
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19"></a>  [-Y fixed length type display width]
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20"></a>  [-p[1] print statistics[colon format]]
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21"></a>  [-R use client regional setting]
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22"></a>  [-K application intent]
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23"></a>  [-M multisubnet failover]
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24"></a>  [-b On error batch abort]
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25"></a>  [-D Dsn flag, indicate -S is Dsn]
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26"></a>  [-X[1] disable commands, startup script, environment variables [and exit]]
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27"></a>  [-x disable variable substitution]
</span><span id="__span-4-28"><a id="__codelineno-4-28" name="__codelineno-4-28"></a>  [-g enable column encryption]
</span><span id="__span-4-29"><a id="__codelineno-4-29" name="__codelineno-4-29"></a>  [-G use Azure Active Directory for authentication]
</span><span id="__span-4-30"><a id="__codelineno-4-30" name="__codelineno-4-30"></a>  [-? show syntax summary]
</span></code></pre></div></td></tr></table></div>
<div class="language-powershell highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="c"># Run SQLCMD</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="n">opt</span><span class="p">/</span><span class="n">mssql-tools</span><span class="p">/</span><span class="n">bin</span><span class="p">/</span><span class="n">sqlcmd</span> <span class="n">-S</span> <span class="n">localhost</span> <span class="n">-U</span> <span class="n">sa</span> <span class="n">-P</span> <span class="n">Password12345</span> <span class="n">-Q</span> <span class="s2">&quot;SELECT * FROM INFORMATION_SCHEMA.TABLES&quot;</span>
</span></code></pre></div></td></tr></table></div>
<table>
<thead>
<tr>
<th>TABLE_CATALOG</th>
<th>TABLE_SCHEMA</th>
<th>TABLE_NAME</th>
<th>TABLE_TYPE</th>
</tr>
</thead>
<tbody>
<tr>
<td>master</td>
<td>dbo</td>
<td>spt_fallback_db</td>
<td>BASE TABLE</td>
</tr>
<tr>
<td>master</td>
<td>dbo</td>
<td>spt_fallback_dev</td>
<td>BASE TABLE</td>
</tr>
<tr>
<td>master</td>
<td>dbo</td>
<td>spt_fallback_usg</td>
<td>BASE TABLE</td>
</tr>
<tr>
<td>master</td>
<td>dbo</td>
<td>spt_values</td>
<td>VIEW</td>
</tr>
<tr>
<td>master</td>
<td>dbo</td>
<td>spt_monitor</td>
<td>BASE TABLE</td>
</tr>
<tr>
<td>master</td>
<td>dbo</td>
<td>MSreplication_options</td>
<td>BASE TABLE</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Very Nice!</p>
</blockquote>
    <nav class="md-post__action">
      <a href="../../2020/08/02/sql-server-on-docker-with-sqlcmd/">
        Continue reading
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-12-07 00:00:00">December 7, 2019</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">Docker</a>, 
              <a href="../sql-server/" class="md-meta__link">SQL SERVER</a></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="sql-server-on-docker"><a class="toclink" href="../../2019/12/07/docker-sql-server/">SQL SERVER on Docker</a></h2>
<p>Setting up SQL SERVER on a Docker Container is so <strong><em>easy</em></strong> that I cringe at all of the times that I have installed a full-blown SQL SERVER instance on my systems in the past.  </p>
<blockquote>
<p>What used to take a few hours with several touch points, now just takes a couple of commands and a few mins.</p>
</blockquote>
<p>Also, since this is on Docker, SQL SERVER is fully isolated from the rest of my system.</p>
<h3 id="lets-get-this-done"><a class="toclink" href="../../2019/12/07/docker-sql-server/#lets-get-this-done">Let's Get This Done</a></h3>
<p>Install the latest with <code>docker pull</code>:</p>
<div class="language-powershell highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="n">docker</span> <span class="n">pull</span> <span class="n">mcr</span><span class="p">.</span><span class="n">microsoft</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">mssql</span><span class="p">/</span><span class="n">server</span><span class="p">:</span><span class="n">2017-latest</span>
</span></code></pre></div></td></tr></table></div>
<p>Set the SA password:</p>
<div class="language-powershell highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="n">docker</span> <span class="n">run</span> <span class="n">-e</span> <span class="s2">&quot;ACCEPT_EULA=Y&quot;</span> <span class="n">-e</span> <span class="s2">&quot;SA_PASSWORD=&lt;YourStrong@Passw0rd&gt;&quot;</span> <span class="p">`</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2"></a>   <span class="n">-p</span> <span class="n">1433</span><span class="p">:</span><span class="n">1433</span> <span class="p">-</span><span class="n">-name</span> <span class="n">sql1</span> <span class="p">`</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3"></a>   <span class="n">-d</span> <span class="n">mcr</span><span class="p">.</span><span class="n">microsoft</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">mssql</span><span class="p">/</span><span class="n">server</span><span class="p">:</span><span class="n">2017-latest</span>
</span></code></pre></div></td></tr></table></div>
<p>Now, you are free to connect to it with <strong>sqlcmd</strong>, or you can connect directly from SQL SERVER Management Studio:</p>
<p>Be sure to use the <code>hostname</code> as the <strong>Server name</strong>.</p>
<blockquote>
<p>This entire setup took 5 mins and is amazingly simple!</p>
</blockquote>
<h3 id="refs"><a class="toclink" href="../../2019/12/07/docker-sql-server/#refs">Refs</a></h3>
<ul>
<li><a href="https://docs.microsoft.com/en-us/sql/linux/quickstart-install-connect-docker?view=sql-server-2017&amp;pivots=cs1-powershell">https://docs.microsoft.com/en-us/sql/linux/quickstart-install-connect-docker?view=sql-server-2017&amp;pivots=cs1-powershell</a></li>
</ul>
    <nav class="md-post__action">
      <a href="../../2019/12/07/docker-sql-server/">
        Continue reading
      </a>
    </nav>
  </div>
</article>
      
      
        
          



<nav class="md-pagination">
  
</nav>
        
      
    </div>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "content.code.select", "search.share", "navigation.tracking", "navigation.tabs", "navigation.instant", "navigation.indexes", "navigation.path", "navigation.top"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
        <script src="../../../scripts/site.js"></script>
      
    
  </body>
</html>